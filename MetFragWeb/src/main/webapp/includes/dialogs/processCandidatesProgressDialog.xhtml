<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
		"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:h="jakarta.faces.html"
	  xmlns:p="http://primefaces.org/ui">

<h:body>
    <h:form>
        <p:dialog visible="#{metFragWebBean.candidateProcessing}" id="processCandidatesProgressDialog"
                  header="#{metFragWebBean.processCompoundsDialogHeader}" widgetVar="processCandidatesProgressDialog"
				  modal="true" resizable="false" closable="false">
            <!-- <p:graphicImage name="images/ajaxloadingbar.gif"/> -->
            <br/>
            <p:progressBar style="width: 200px" widgetVar="pbAjax" ajax="true"
                           value="#{metFragWebBean.processingProgress}" labelTemplate="{value}%" styleClass="animated"
                           global="false">
            </p:progressBar>
            <br/>
            <h:panelGroup style="padding-left: 0px;">
                <p:commandButton style="height: 22px; font-size: 0.7em" value="Stop" id="stopProcessCompounds"
                                 action="#{metFragWebBean.stopCompoundProcessing}"
                                 actionListener="#{metFragWebBean.stopCompoundProcessingListener}"
                                 onclick="PF('processCompoundsDialog').hide()"/>
            </h:panelGroup>
            <br/>
            <p:poll interval="1" listener="#{metFragWebBean.checkProcessingThread}"
                    update="processCandidatesProgressDialog"/>
        </p:dialog>
    </h:form>
</h:body>
</html>
